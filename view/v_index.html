{% extends 'v_main.html' %}

{% block content %}

<div id="catalog" class="d-flex justify-content-center flex-wrap mt-5" >
    {% for good in goods %}

    <div class="card m-4" style="width: 21rem; margin: 0 auto;">
        <img src="{{ good.path }}" class="card-img-top" alt="{{ good.path }}" data-id="{{ good.id_good }}">
        <div class="card-body" id="сart_body_{{ good.id_good }}" data-id="{{ good.id_good }}">
            <h5 class="card-title" data-id="{{ good.id_good }}">{{ good.good_name }}</h5>
            <p class="card-text" data-id="{{ good.id_good }}">Цена: {{ good.good_price }} $</p>
            <footer class="blockquote-footer" data-id="{{ good.id_good }}">{{ good.good_description }}</footer>
        </div>
        {% if role %}
        <div class="d-flex">
            <button id="ch{{ good.id_good }}"  data-id="{{ good.id_good }}" data-role="true" data-btn="cart-btn" onclick="new BtnAction" class="btn btn-outline-success w-50" 
                data-toggle="modal" data-target=".bd-example-modal-xl">Изменить товар</button>
                
            <button id="rem{{ good.id_good }}" data-id="{{ good.id_good }}" data-btn="rem-btn" onclick="new BtnAction" class="btn btn-outline-danger w-50">Убрать в архив</button>
        </div>
        {% else %}
        <div class="d-flex">
            <button data-id="{{ good.id_good }}" data-btn="cart-btn" onclick="new BtnAction" class="btn btn-secondary w-50" data-toggle="modal" data-target=".bd-example-modal-xl">Подробнее</button>
            <button id="{{ good.id_good }}" data-id="{{ good.id_good }}" onclick="new ProductAction" class="buy-btn btn btn-primary w-50">В корзину</button>
        </div>
        {% endif %}
    </div>

    {% endfor %}
</div>
<div id="moreButton" class="d-flex justify-content-center">
    {% if role %}
        <button id="more" data-role="true" class='btn btn-secondary w-30' >Еще...</button>
    {% else %} 
        <button id="more" class='btn btn-secondary w-30'>Еще...</button>
    {% endif %}
</div>

<div class="modal fade bd-example-modal-xl" tabindex="-1" role="dialog" aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content">
            <div class="card text-center">
                <div class="card-body d-flex">
                  <div class="w-50">
                    <img src="https://placehold.it/350x200" class="card-img-top" width=500 height=500 alt="img">
                  </div>
                  <div>
                    <label for="file">Загузить изображения</label>
                    <input class="filesGood"  type="file" id="file" multiple></input>
                    <h5 class="card-title">Название товара <input type="text" class="nameGood" placeholder="Введите название товара"></input></h5>
                    <p class="card-text">Цена: <input type="text" class="priceGood" placeholder="Введите цену товара"></input> $</p>
                    <p class="card-text">Краткое описание <textarea class="descGood" placeholder="Введите краткое описание товара"></textarea></p>
                    <p class="card-text">Подробное описание <textarea class="card-text" placeholder="Введите полное описание товара"></textarea></p>
                  </div>
                </div>
                <div class="card-footer">
                  <button id="add_good_btn" data-btn="add-btn" onclick="new BtnAction" class="buy-btn btn btn-success">Добавить товар</button>
                </div>
              </div>
          </div>
        </div>
      </div>
    
{% endblock %}
